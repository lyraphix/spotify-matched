(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{4625:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/jsontest",function(){return s(9584)}])},7969:function(e,t,s){"use strict";var n=s(5893);s(7294);var c=s(9008),r=s.n(c),a=s(3299);let i=e=>{let{providers:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center bg-black min-h-screen w-full justify-center",children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Spotify Clone"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"https://th.bing.com/th/id/R.fe4bfd3bd082e4fd4d6aca3f255925b1?rik=Hwa9QxFb3%2bIjtw&pid=ImgRaw&r=0"})]}),(0,n.jsx)("img",{className:"w-52 mb-5",src:"https://th.bing.com/th/id/R.fe4bfd3bd082e4fd4d6aca3f255925b1?rik=Hwa9QxFb3%2bIjtw&pid=ImgRaw&r=0",alt:"images"}),Object.values(t).map(e=>(0,n.jsx)("div",{children:(0,n.jsxs)("button",{className:"bg-[#18D860] text-white p-5 rounded-lg",onClick:()=>(0,a.signIn)(e.id,{callbackUrl:"/"}),children:["Login with ",e.name]})},e.name))]})};t.Z=i},1689:function(e,t,s){"use strict";var n=s(7294),c=s(3299),r=s(7539),a=s.n(r);let i=new(a())({clientId:"83cabe8ccb85435b9ad3c8cb2e83d111",clientSecret:"b6bbd78d38404ce994dafb616a0d4aee"});t.Z=function(){let{data:e,status:t}=(0,c.useSession)();return(0,n.useEffect)(()=>{e&&("RefreshAccessTokenError"===e.error&&(0,c.signIn)(),i.setAccessToken(e.user.accessToken))},[e]),i}},9584:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var n=s(5893);s(9008);var c=s(7294),r=s(3299),a=s(4480),i=s(1689);let l=(0,a.cn)({key:"playlistState",default:null}),o=(0,a.cn)({key:"playlistIdState",default:"37i9dQZF1DWWvoJqVv7uOD"}),d=(0,a.cn)({key:"currentTrackIdState",default:null});(0,a.cn)({key:"isPlaingState",default:!1});var f=function(){let e=(0,i.Z)(),[t,s]=(0,a.FV)(d),[n,r]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let s=async()=>{if(t){let s=await fetch("https://api.spotify.com/v1/tracks/".concat(t),{headers:{Authorization:"Bearer ".concat(e.getAccessToken())}}).then(e=>e.json()).catch(e=>console.log("401 Error \uD83E\uDD72\uD83E\uDD72",e));r(s)}};s()},[t,e]),n},u=s(6486);let h=()=>{let e=(0,a.sJ)(l);return(0,n.jsxs)("div",{className:"px-8 flex flex-col space-y-1 pb-28",children:["Here's the name: ",JSON.stringify(null==e?void 0:e.tracks.items[0].track.name),(0,n.jsx)("br",{}),"Here's the artist: ",JSON.stringify(null==e?void 0:e.tracks.items[0].track.artists[0].name),(0,n.jsx)("br",{}),"And here's everything else: ",JSON.stringify(null==e?void 0:e.tracks.items[0]),(0,n.jsx)("br",{})]})},x=["from-indigo-500","from-blue-500","from-green-500","from-red-500","from-yellow-500","from-pink-500","from-purple-500"],b=()=>{let{data:e}=(0,r.useSession)(),t=(0,i.Z)(),[s,d]=(0,c.useState)(null),f=(0,a.sJ)(o),[b,m]=(0,a.FV)(l);return(0,c.useEffect)(()=>{d((0,u.shuffle)(x).pop())},[f]),(0,c.useEffect)(()=>{t.getPlaylist(f).then(e=>{m(e.body)}).catch(e=>console.log("Somthing wen wrong!",e))},[t,f]),(0,n.jsx)(h,{})},m=()=>{f(),(0,i.Z)();let{data:e,status:t}=(0,r.useSession)(),[s,l]=(0,c.useState)([]),[d,u]=(0,c.useState)(null);return(0,a.sJ)(o),(0,n.jsxs)("div",{className:"bg-white space-x-4 space-y-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bol space-x-8",children:" Session Info "}),(0,n.jsx)("div",{children:JSON.stringify(e)}),(0,n.jsx)("br",{}),(0,n.jsx)("h1",{className:"text-2xl font-bol space-x-8",children:" First Song Info "}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)(b,{})}),(0,n.jsx)("br",{}),(0,n.jsx)("h1",{className:"text-2xl font-bol space-x-8",children:" First Playlist Info "}),(0,n.jsx)("div",{className:"",children:JSON.stringify(s[1])})]})};function p(e){let{providers:t}=e;return(0,n.jsx)("div",{className:"bg-black h-screen overflow-hidden",children:(0,n.jsx)(m,{})})}s(7969)},9008:function(e,t,s){e.exports=s(3121)},4654:function(){}},function(e){e.O(0,[662,539,774,888,179],function(){return e(e.s=4625)}),_N_E=e.O()}]);